{"version":3,"sources":["../../../src/js/review/SubmitButtons.jsx"],"names":["SubmitButtons","props","onBack","onSubmit","submission","renderErrorMessage","submitButton","submitMessage","status","Date","extra"],"mappings":"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","file":"SubmitButtons.js","sourcesContent":["import React from 'react';\nimport ProgressButton from '../components/ProgressButton';\nimport { timeFromNow } from '../utilities/date';\n\nexport default function SubmitButtons(props) {\n  const {\n    onBack,\n    onSubmit,\n    submission,\n    renderErrorMessage\n  } = props;\n  let submitButton;\n  let submitMessage;\n  if (submission.status === false) {\n    submitButton = (\n      <ProgressButton\n        onButtonClick={onSubmit}\n        buttonText=\"Submit Application\"\n        buttonClass=\"usa-button-primary\"/>\n    );\n  } else if (submission.status === 'submitPending') {\n    submitButton = (\n      <ProgressButton\n        onButtonClick={onSubmit}\n        buttonText=\"Sending...\"\n        disabled\n        buttonClass=\"usa-button-disabled\"/>\n    );\n  } else if (submission.status === 'applicationSubmitted') {\n    submitButton = (\n      <ProgressButton\n        onButtonClick={onSubmit}\n        buttonText=\"Submitted\"\n        disabled\n        buttonClass=\"form-button-green\"\n        beforeText=\"&#10003;\"/>\n    );\n  } else if (submission.status === 'clientError') {\n    submitButton = (\n      <ProgressButton\n        onButtonClick={onSubmit}\n        buttonText=\"Submit Application\"\n        buttonClass=\"usa-button-primary\"/>\n    );\n    submitMessage = (\n      <div className=\"usa-alert usa-alert-error schemaform-failure-alert\">\n        <div className=\"usa-alert-body\">\n          <p className=\"schemaform-warning-header\"><strong>We’re sorry, there was an error connecting to the server.</strong></p>\n          <p>Please check your Internet connection and try again.</p>\n        </div>\n      </div>\n    );\n  } else if (submission.status === 'throttledError') {\n    submitButton = (\n      <ProgressButton\n        onButtonClick={onSubmit}\n        buttonText=\"Submit Application\"\n        buttonClass=\"usa-button-primary\"/>\n    );\n    submitMessage = (\n      <div className=\"usa-alert usa-alert-error schemaform-failure-alert\">\n        <div className=\"usa-alert-body\">\n          <p className=\"schemaform-warning-header\"><strong>We’ve run into a problem</strong></p>\n          <p>We’re sorry. Your submission didn’t go through because we received too many requests from you. Please wait {timeFromNow(new Date(submission.extra * 1000))} and submit your request again.</p>\n        </div>\n      </div>\n    );\n  } else if (submission.status === 'validationError') {\n    submitButton = (\n      <ProgressButton\n        onButtonClick={onSubmit}\n        buttonText=\"Submit Application\"\n        buttonClass=\"usa-button-primary\"/>\n    );\n    submitMessage = (\n      <div className=\"usa-alert usa-alert-error schemaform-failure-alert\">\n        <div className=\"usa-alert-body\">\n          <p className=\"schemaform-warning-header\"><strong>We’re sorry. Some information in your application is missing or not valid.</strong></p>\n          <p>Please check each section of your application to make sure you’ve filled out all the information that is required.</p>\n        </div>\n      </div>\n    );\n  } else {\n    if (renderErrorMessage) {\n      submitMessage = renderErrorMessage();\n    } else {\n      submitMessage = (\n        <div className=\"usa-alert usa-alert-error schemaform-failure-alert\">\n          <div className=\"usa-alert-body\">\n            <p className=\"schemaform-warning-header\"><strong>We’re sorry, the application didn’t go through.</strong></p>\n            <p>You’ll have to start over. We suggest you wait 1 day while we fix this problem.</p>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"small-12 medium-12 columns\">\n            {submitMessage}\n          </div>\n        </div>\n        <div className=\"row form-progress-buttons schemaform-back-buttons\">\n          <div className=\"small-6 usa-width-one-half medium-6 columns\">\n            <a href=\"/\">\n              <button className=\"usa-button-primary\">Go back to the home page</button>\n            </a>\n          </div>\n          {submitButton}\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <div className=\"row form-progress-buttons\">\n        <div className=\"small-6 medium-5 columns\">\n          <ProgressButton\n            onButtonClick={onBack}\n            buttonText=\"Back\"\n            buttonClass=\"usa-button-secondary\"\n            beforeText=\"«\"/>\n        </div>\n        <div className=\"small-6 medium-5 columns\">\n          {submitButton}\n        </div>\n        <div className=\"small-1 medium-1 end columns\">\n          <div className=\"hidden\">&nbsp;</div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"columns\">\n          {submitMessage}\n        </div>\n      </div>\n    </div>\n  );\n}\n"]}