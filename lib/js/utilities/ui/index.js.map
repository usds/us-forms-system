{"version":3,"sources":["../../../../src/js/utilities/ui/index.js"],"names":["focusElement","setGlobalScroll","getScrollOptions","scrollToFirstError","selectorOrElement","options","el","document","querySelector","tabIndex","setAttribute","focus","window","Forms","scroll","duration","delay","smooth","additionalOptions","globals","defaults","errorEl","currentPosition","pageYOffset","documentElement","scrollTop","body","position","getBoundingClientRect","top","Scroll","animateScroll","scrollTo"],"mappings":";;;;;;;;;;QAGgBA,Y,GAAAA,Y;QAaAC,e,GAAAA,e;QAWAC,gB,GAAAA,gB;QAUAC,kB,GAAAA,kB;;AApChB;;;;;;AAEO,SAASH,YAAT,CAAsBI,iBAAtB,EAAyCC,OAAzC,EAAkD;AACvD,MAAMC,KAAK,OAAOF,iBAAP,KAA6B,QAA7B,GACPG,SAASC,aAAT,CAAuBJ,iBAAvB,CADO,GAEPA,iBAFJ;;AAIA,MAAIE,EAAJ,EAAQ;AACN,QAAIA,GAAGG,QAAH,IAAe,CAAnB,EAAsB;AACpBH,SAAGI,YAAH,CAAgB,UAAhB,EAA4B,IAA5B;AACD;AACDJ,OAAGK,KAAH,CAASN,OAAT;AACD;AACF;;AAEM,SAASJ,eAAT,GAA2B;AAChCW,SAAOC,KAAP,GAAeD,OAAOC,KAAP,IAAgB;AAC7BC,YAAQ;AACNC,gBAAU,GADJ;AAENC,aAAO,CAFD;AAGNC,cAAQ;AAHF;AADqB,GAA/B;AAOD;;AAED;AACO,SAASf,gBAAT,CAA0BgB,iBAA1B,EAA6C;AAClD,MAAMC,UAAUP,OAAOC,KAAP,IAAgB,EAAhC;AACA,MAAMO,WAAW;AACfL,cAAU,GADK;AAEfC,WAAO,CAFQ;AAGfC,YAAQ;AAHO,GAAjB;AAKA,SAAO,qBAAQ,EAAR,EAAYG,QAAZ,EAAsBD,QAAQL,MAA9B,EAAsCI,iBAAtC,CAAP;AACD;;AAEM,SAASf,kBAAT,GAA8B;AACnC,MAAMkB,UAAUd,SAASC,aAAT,CAAuB,qCAAvB,CAAhB;AACA,MAAIa,OAAJ,EAAa;AACX;AACA,QAAMC,kBAAkBV,OAAOW,WAAP,IAAsBhB,SAASiB,eAAT,CAAyBC,SAA/C,IAA4DlB,SAASmB,IAAT,CAAcD,SAA1E,IAAuF,CAA/G;AACA,QAAME,WAAWN,QAAQO,qBAAR,GAAgCC,GAAhC,GAAsCP,eAAvD;AACAQ,0BAAOC,aAAP,CAAqBC,QAArB,CAA8BL,WAAW,EAAzC,EAA6CzB,kBAA7C;AACAF,iBAAaqB,OAAb;AACD;AACF","file":"index.js","sourcesContent":["import _ from 'lodash';\nimport Scroll from 'react-scroll';\n\nexport function focusElement(selectorOrElement, options) {\n  const el = typeof selectorOrElement === 'string'\n    ? document.querySelector(selectorOrElement)\n    : selectorOrElement;\n\n  if (el) {\n    if (el.tabIndex <= 0) {\n      el.setAttribute('tabindex', '-1');\n    }\n    el.focus(options);\n  }\n}\n\nexport function setGlobalScroll() {\n  window.Forms = window.Forms || {\n    scroll: {\n      duration: 500,\n      delay: 0,\n      smooth: true\n    }\n  };\n}\n\n// Allows smooth scrolling to be overridden by our E2E tests\nexport function getScrollOptions(additionalOptions) {\n  const globals = window.Forms || {};\n  const defaults = {\n    duration: 500,\n    delay: 0,\n    smooth: true\n  };\n  return _.merge({}, defaults, globals.scroll, additionalOptions);\n}\n\nexport function scrollToFirstError() {\n  const errorEl = document.querySelector('.usa-input-error, .input-error-date');\n  if (errorEl) {\n    // document.body.scrollTop doesn’t work with all browsers, so we’ll cover them all like so:\n    const currentPosition = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    const position = errorEl.getBoundingClientRect().top + currentPosition;\n    Scroll.animateScroll.scrollTo(position - 10, getScrollOptions());\n    focusElement(errorEl);\n  }\n}\n"]}