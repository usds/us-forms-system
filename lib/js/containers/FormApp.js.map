{"version":3,"sources":["../../../src/js/containers/FormApp.jsx"],"names":["Element","Scroll","FormApp","window","History","scrollRestoration","props","currentLocation","formConfig","children","formData","trimmedPathname","pathname","replace","isIntroductionPage","endsWith","Footer","footerContent","formTitle","formNav","renderedChildren","title","subTitle","footer","React","Component","mapStateToProps","state","form","data"],"mappings":";;;;;;;;;AAAA;;;;AACA;;AACA;;;;AAEA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;AAEA,IAAMA,UAAUC,sBAAOD,OAAvB;;AAEA;;;;IAGME,O;;;;;;;;;;;yCACiB;AACnB;;AAEA,UAAIC,OAAOC,OAAX,EAAoB;AAClBD,eAAOC,OAAP,CAAeC,iBAAf,GAAmC,QAAnC;AACD;AACF;;;6BAEQ;AAAA,mBACqD,KAAKC,KAD1D;AAAA,UACCC,eADD,UACCA,eADD;AAAA,UACkBC,UADlB,UACkBA,UADlB;AAAA,UAC8BC,QAD9B,UAC8BA,QAD9B;AAAA,UACwCC,QADxC,UACwCA,QADxC;;AAEP,UAAMC,kBAAkBJ,gBAAgBK,QAAhB,CAAyBC,OAAzB,CAAiC,KAAjC,EAAwC,EAAxC,CAAxB;AACA,UAAMC,qBAAqBH,gBAAgBI,QAAhB,CAAyB,cAAzB,CAA3B;AACA,UAAMC,SAASR,WAAWS,aAA1B;;AAEA,UAAIC,kBAAJ;AACA,UAAIC,gBAAJ;AACA,UAAIC,mBAAmBX,QAAvB;AACA,UAAI,CAACK,kBAAL,EAAyB;AACvB;AACA;AACA,YAAIN,WAAWa,KAAf,EAAsB;AACpBH,sBAAY,8BAAC,mBAAD,IAAW,OAAOV,WAAWa,KAA7B,EAAoC,UAAUb,WAAWc,QAAzD,GAAZ;AACD;AACF;;AAED;AACA;AACA,UAAI,2BAAaX,eAAb,CAAJ,EAAmC;AACjCQ,kBAAU,8BAAC,iBAAD,IAAS,UAAUT,QAAnB,EAA6B,YAAYF,UAAzC,EAAqD,aAAaG,eAAlE,GAAV;;AAEAS,2BACE;AAAA;AAAA,YAAK,WAAU,sCAAf;AACGX;AADH,SADF;AAKD;;AAED,UAAIc,eAAJ;AACA,UAAIP,MAAJ,EAAY;AACVO,iBACE,8BAAC,MAAD;AACE,sBAAYf,UADd;AAEE,2BAAiBD,eAFnB,GADF;AAKD;;AAED,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAK,WAAU,KAAf;AACE;AAAA;AAAA,cAAK,WAAU,uCAAf;AACE,0CAAC,OAAD,IAAS,MAAK,kBAAd,GADF;AAEGW,qBAFH;AAGGC,mBAHH;AAIGC;AAJH;AADF,SADF;AASGG,cATH;AAUE,gDAAM,WAAU,yBAAhB,EAA0C,iBAAeZ,eAAzD,EAA0E,YAA1E;AAVF,OADF;AAcD;;;;EA7DmBa,gBAAMC,S;;AAgE5B,IAAMC,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAY;AAClCjB,cAAUiB,MAAMC,IAAN,CAAWC;AADa,GAAZ;AAAA,CAAxB;;kBAIe,yBAAQH,eAAR,EAAyBxB,OAAzB,C;QAENA,O,GAAAA,O","file":"FormApp.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport Scroll from 'react-scroll';\n\nimport FormNav from '../components/FormNav';\nimport FormTitle from '../components/FormTitle';\nimport { isInProgress } from '../helpers';\nimport { setGlobalScroll } from '../utilities/ui';\n\nconst Element = Scroll.Element;\n\n/*\n * Primary component for a schema generated form app.\n */\nclass FormApp extends React.Component {\n  componentWillMount() {\n    setGlobalScroll();\n\n    if (window.History) {\n      window.History.scrollRestoration = 'manual';\n    }\n  }\n\n  render() {\n    const { currentLocation, formConfig, children, formData } = this.props;\n    const trimmedPathname = currentLocation.pathname.replace(/\\/$/, '');\n    const isIntroductionPage = trimmedPathname.endsWith('introduction');\n    const Footer = formConfig.footerContent;\n\n    let formTitle;\n    let formNav;\n    let renderedChildren = children;\n    if (!isIntroductionPage) {\n      // Show title only if we're not on the intro page and if there is a title\n      // specified in the form config\n      if (formConfig.title) {\n        formTitle = <FormTitle title={formConfig.title} subTitle={formConfig.subTitle}/>;\n      }\n    }\n\n    // Show nav only if we're not on the intro, form-saved, error, or confirmation page\n    // Also add form classes only if on an actual form page\n    if (isInProgress(trimmedPathname)) {\n      formNav = <FormNav formData={formData} formConfig={formConfig} currentPath={trimmedPathname}/>;\n\n      renderedChildren = (\n        <div className=\"progress-box progress-box-schemaform\">\n          {children}\n        </div>\n      );\n    }\n\n    let footer;\n    if (Footer) {\n      footer = (\n        <Footer\n          formConfig={formConfig}\n          currentLocation={currentLocation}/>\n      );\n    }\n\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"usa-width-two-thirds medium-8 columns\">\n            <Element name=\"topScrollElement\"/>\n            {formTitle}\n            {formNav}\n            {renderedChildren}\n          </div>\n        </div>\n        {footer}\n        <span className=\"js-test-location hidden\" data-location={trimmedPathname} hidden></span>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  formData: state.form.data\n});\n\nexport default connect(mapStateToProps)(FormApp);\n\nexport { FormApp };\n"]}