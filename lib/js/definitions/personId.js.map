{"version":3,"sources":["../../../src/js/definitions/personId.js"],"names":["schema","uiSchema","currentSchema","type","properties","veteranSocialSecurityNumber","definitions","ssn","vaFileNumber","prefix","noSSN","labelText","fileNumberProp","ssnUI","formData","hideOnReview","pattern","expandUnder"],"mappings":";;;;;;;;;;;;;;QAIgBA,M,GAAAA,M;QAaAC,Q,GAAAA,Q;;AAfhB;;;;;;;;AAEO,SAASD,MAAT,CAAgBE,aAAhB,EAA+B;AACpC,SAAO;AACLC,UAAM,QADD;AAELC,gBAAY;AACVC,mCAA6BH,cAAcI,WAAd,CAA0BC,GAD7C;AAEV,oBAAc;AACZJ,cAAM;AADM,OAFJ;AAKVK,oBAAcN,cAAcI,WAAd,CAA0BE;AAL9B;AAFP,GAAP;AAUD;;AAEM,SAASP,QAAT,GAGgD;AAAA,MAFrDQ,MAEqD,uEAF5C,SAE4C;;AAAA;;AAAA,MADrDC,KACqD,uEAD7C,2BAC6C;AAAA,MAArDC,SAAqD,uEAAzC,uCAAyC;;AACrD,MAAMC,iBAAkBH,WAAW,SAAZ,GAAyB,IAAzB,GAAgC,YAAvD;;AAEA,0CACMA,MADN,2BACqC,sBAASI,aAAT,EAAgB;AACjD,mBAAe,oBAACC,QAAD;AAAA,aAAc,CAAC,mBAAMJ,KAAN,EAAaI,QAAb,CAAf;AAAA;AADkC,GAAhB,CADrC,yBAIE,YAJF,EAIgB;AACZ,gBAAYH,SADA;AAEZ,kBAAc;AACZI,oBAAc;AADF;AAFF,GAJhB,yBAUMH,cAVN,iBAUmC;AAC/B,mBAAe,oBAACE,QAAD;AAAA,aAAc,CAAC,CAAC,mBAAMJ,KAAN,EAAaI,QAAb,CAAhB;AAAA,KADgB;AAE/B,gBAAY,gBAFmB;AAG/B,wBAAoB;AAClBE,eAAS;AADS,KAHW;AAM/B,kBAAc;AACZC,mBAAa;AADD;AANiB,GAVnC;AAqBD","file":"personId.js","sourcesContent":["import _ from 'lodash/fp';\n\nimport ssnUI from './ssn';\n\nexport function schema(currentSchema) {\n  return {\n    type: 'object',\n    properties: {\n      veteranSocialSecurityNumber: currentSchema.definitions.ssn,\n      'view:noSSN': {\n        type: 'boolean'\n      },\n      vaFileNumber: currentSchema.definitions.vaFileNumber\n    }\n  };\n}\n\nexport function uiSchema(\n  prefix = 'veteran',\n  noSSN = 'view:veteranId.view:noSSN',\n  labelText = 'I donâ€™t have a Social Security number') {\n  const fileNumberProp = (prefix === 'veteran') ? 'va' : 'relativeVa';\n\n  return {\n    [`${prefix}SocialSecurityNumber`]: _.assign(ssnUI, {\n      'ui:required': (formData) => !_.get(noSSN, formData)\n    }),\n    'view:noSSN': {\n      'ui:title': labelText,\n      'ui:options': {\n        hideOnReview: true\n      }\n    },\n    [`${fileNumberProp}FileNumber`]: {\n      'ui:required': (formData) => !!_.get(noSSN, formData),\n      'ui:title': 'VA file number',\n      'ui:errorMessages': {\n        pattern: 'Your VA file number must be between 7 to 9 digits'\n      },\n      'ui:options': {\n        expandUnder: 'view:noSSN'\n      }\n    }\n  };\n}\n"]}