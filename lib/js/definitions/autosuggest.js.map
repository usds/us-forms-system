{"version":3,"sources":["../../../src/js/definitions/autosuggest.js"],"names":["uiSchema","schema","type","properties","id","label","getOptions","options","validations","push","validateAutosuggestOption","AutosuggestField","showFieldLabel","maxOptions"],"mappings":";;;;;;;;;;;;;;;QA0BgBA,Q,GAAAA,Q;;AAxBhB;;;;AACA;;;;AAEA;AACA;AACO,IAAMC,0BAAS;AACpBC,QAAM,QADc;AAEpBC,cAAY;AACVC,QAAI;AACFF,YAAM;AADJ,KADM;AAIVG,WAAO;AACLH,YAAM;AADD;AAJG;AAFQ,CAAf;;AAYP;;;;;;;AAOO,SAASF,QAAT,CAAkBK,KAAlB,EAAyBC,UAAzB,EAAmD;AAAA,MAAdC,OAAc,uEAAJ,EAAI;;AACxD,MAAMC,cAAc,EAApB;AACA,MAAI,CAAC,mBAAM,sBAAN,EAA8BD,OAA9B,CAAL,EAA6C;AAC3CC,gBAAYC,IAAZ,CAAiBC,qCAAjB;AACD;;AAED,SAAO,qBAAQ;AACb,gBAAYL,KADC;AAEb,gBAAYM,0BAFC;AAGb,sBAAkBH,WAHL;AAIb,wBAAoB;AAClBN,YAAM;AADY,KAJP;AAOb,kBAAc;AACZU,sBAAgB,OADJ;AAEZC,kBAAY,EAFA;AAGZP;AAHY;AAPD,GAAR,EAYJC,OAZI,CAAP;AAaD","file":"autosuggest.js","sourcesContent":["import _ from 'lodash/fp';\n\nimport AutosuggestField from '../fields/AutosuggestField';\nimport { validateAutosuggestOption } from '../validation';\n\n// don't use for enum fields, they need access to the\n// list of enums and names\nexport const schema = {\n  type: 'object',\n  properties: {\n    id: {\n      type: 'any'\n    },\n    label: {\n      type: 'string'\n    }\n  }\n};\n\n/*\n * Create uiSchema for autosuggest\n *\n * @param {string} label - Label for the field\n * @param {function} getOptions - Function that fetchs options to be shown and returns a promise\n * @param {object} options - Any other options to override the uiSchema defaults with\n */\nexport function uiSchema(label, getOptions, options = {}) {\n  const validations = [];\n  if (!_.get('ui:options.freeInput', options)) {\n    validations.push(validateAutosuggestOption);\n  }\n\n  return _.merge({\n    'ui:title': label,\n    'ui:field': AutosuggestField,\n    'ui:validations': validations,\n    'ui:errorMessages': {\n      type: 'Please select an option from the suggestions'\n    },\n    'ui:options': {\n      showFieldLabel: 'label',\n      maxOptions: 20,\n      getOptions\n    }\n  }, options);\n}\n"]}