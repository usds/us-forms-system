{"version":3,"sources":["../../../src/js/definitions/autosuggest.js"],"names":["schema","type","properties","id","label","uiSchema","getOptions","options","validations","push","validateAutosuggestOption","AutosuggestField","showFieldLabel","maxOptions","autosuggestConfig"],"mappings":";;;;;;;;;;;;;;;AAEA;;;;AACA;;;;AAEA;AACA;AACA,SAASA,MAAT,GAAkB;AAChB,SAAO;AACLC,UAAM,QADD;AAELC,gBAAY;AACVC,UAAI;AACFF,cAAM;AADJ,OADM;AAIVG,aAAO;AACLH,cAAM;AADD;AAJG;AAFP,GAAP;AAWD;;AAED;;;;;;;AAOA,SAASI,QAAT,CAAkBD,KAAlB,EAAyBE,UAAzB,EAAmD;AAAA,MAAdC,OAAc,uEAAJ,EAAI;;AACjD,MAAMC,cAAc,EAApB;AACA,MAAI,CAAC,mBAAM,sBAAN,EAA8BD,OAA9B,CAAL,EAA6C;AAC3CC,gBAAYC,IAAZ,CAAiBC,qCAAjB;AACD;;AAED,SAAO,qBAAQ;AACb,gBAAYN,KADC;AAEb,gBAAYO,0BAFC;AAGb,sBAAkBH,WAHL;AAIb,wBAAoB;AAClBP,YAAM;AADY,KAJP;AAOb,kBAAc;AACZW,sBAAgB,OADJ;AAEZC,kBAAY,EAFA;AAGZP;AAHY;AAPD,GAAR,EAYJC,OAZI,CAAP;AAaD;;AAEM,IAAMO,gDAAoB;AAC/Bd,gBAD+B;AAE/BK;AAF+B,CAA1B","file":"autosuggest.js","sourcesContent":["import _ from 'lodash/fp';\n\nimport AutosuggestField from '../fields/AutosuggestField';\nimport { validateAutosuggestOption } from '../validation';\n\n// don't use for enum fields, they need access to the\n// list of enums and names\nfunction schema() {\n  return {\n    type: 'object',\n    properties: {\n      id: {\n        type: 'any'\n      },\n      label: {\n        type: 'string'\n      }\n    }\n  };\n}\n\n/*\n * Create uiSchema for autosuggest\n *\n * @param {string} label - Label for the field\n * @param {function} getOptions - Function that fetchs options to be shown and returns a promise\n * @param {object} options - Any other options to override the uiSchema defaults with\n */\nfunction uiSchema(label, getOptions, options = {}) {\n  const validations = [];\n  if (!_.get('ui:options.freeInput', options)) {\n    validations.push(validateAutosuggestOption);\n  }\n\n  return _.merge({\n    'ui:title': label,\n    'ui:field': AutosuggestField,\n    'ui:validations': validations,\n    'ui:errorMessages': {\n      type: 'Please select an option from the suggestions'\n    },\n    'ui:options': {\n      showFieldLabel: 'label',\n      maxOptions: 20,\n      getOptions\n    }\n  }, options);\n}\n\nexport const autosuggestConfig = {\n  schema,\n  uiSchema\n};\n\n"]}